Bigtable是一个稀疏的，分布式的，持久化的，多维的排序映射。

## 维度
### 行键
* 按照行键的字典序存储数据
* 根据行键自动划分为***片（tablet）***
* 自动分裂，每片大小在100~200MB

### 列键
* 列被分为多个***列族（column family）***

### 时间戳
* 允许保存数据的多个版本
* 返回时间小于或等于指定时间戳的数据

## 支撑技术
用GFS来存储日志和数据文件；按SSTable文件格式存储数据；用Chubby管理元数据。

### SSTable
* 全称Sorted Strings Table，是一种不可修改的有序的键值映射
* 由一系列的***块（block）***组成，默认64KB
* 尾部存储着块***索引***
* 整个索引会被读入内存
* 每一个片（tablet）在GFS里都是按照SSTable的格式存储的，每个片可能对应多个SSTable

### Chubby
高可用的分布式锁服务

## 集群
### 主服务器
* 将片分配给片服务器
* 监控片服务器的添加和删除
* 平衡片服务器的负载
* 处理表和列族的创建

### 片服务器
* 并不真实存储数据，而相当于一个连接Bigtable和GFS的代理

## 片的定位
#### Chubby file
* 保存着root tablet的位置

#### root tablet
* 保存着元数据表其它片的位置
* 从不分裂

#### 其它元数据片
* 包含了许多用户片的位置信息

## 参考
* [谷歌技术"三宝"之BigTable](http://blog.csdn.net/opennaive/article/details/7532589)