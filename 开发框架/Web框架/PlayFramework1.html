<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>安装</title>
    <link rel="stylesheet" href="/style.css" />
</head>
<body>
<h2 id="_1">安装</h2>
<ul>
<li>解压</li>
<li>设置PATH和PLAY_PATH</li>
</ul>
<h2 id="_2">创建项目</h2>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%">play new play_helloworld
<span style="color: #24909d">cd </span>play_helloworld/
play eclipsify
play run
</pre></div>


<h2 id="_3">路由</h2>
<ul>
<li>把请求转到对应的action调用</li>
<li><code>conf/routes</code>文件定义</li>
</ul>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #cd2828; font-weight: bold">#HTTP方法    url模式               action调用</span>
<span style="color: #d0d0d0">GET</span>          <span style="color: #d0d0d0">/clients/:id</span>          <span style="color: #d0d0d0">controllers.Clients.show(id:</span> <span style="color: #d0d0d0">Long)</span>
</pre></div>


<h2 id="_4">请求处理</h2>
<h3 id="action">Action</h3>
<ul>
<li>java方法</li>
<li>处理请求</li>
<li>返回<code>play.mvc.Result</code></li>
</ul>
<h3 id="controller">Controller</h3>
<ul>
<li>继承<code>play.mvc.Controller</code></li>
<li>组合多个action方法</li>
</ul>
<h3 id="result">Result</h3>
<ul>
<li>表示HTTP应答：状态码、头部、主体</li>
</ul>
<h2 id="_5">线程池</h2>
<ul>
<li>Netty boss/worker线程池</li>
<li>Play内部线程池：默认为CPU核心数</li>
<li>Play默认线程池：action使用，默认为CPU核心数</li>
<li>Akka线程池</li>
</ul>
<h2 id="_6">运行</h2>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #d0d0d0">play</span> <span style="color: #d0d0d0">run</span> <span style="color: #d0d0d0">-Xms256M</span> <span style="color: #d0d0d0">-Xmx1024M</span>
</pre></div>


<h2 id="_7">未分类</h2>
<ul>
<li>程序路径：Play.applicationPath</li>
<li>通过命令行指定端口：play run --http.port=8080</li>
</ul>
<h3 id="conflog4jproperties">conf/log4j.properties</h3>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #d0d0d0">log4j.rootLogger=ERROR,</span> <span style="color: #d0d0d0">Console,</span> <span style="color: #d0d0d0">RollingAppender</span>

<span style="color: #d0d0d0">log4j.logger.play=DEBUG</span>

<span style="color: #cd2828; font-weight: bold"># Console</span>
<span style="color: #d0d0d0">log4j.appender.Console=org.apache.log4j.ConsoleAppender</span>
<span style="color: #d0d0d0">log4j.appender.Console.layout=org.apache.log4j.PatternLayout</span>
<span style="color: #d0d0d0">log4j.appender.Console.layout.ConversionPattern=%d{ABSOLUTE}</span> <span style="color: #d0d0d0">%-</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">p</span> <span style="color: #d0d0d0">~</span> <span style="color: #d0d0d0">%m%n</span>

<span style="color: #cd2828; font-weight: bold"># Rolling files</span>
<span style="color: #d0d0d0">log4j.appender.RollingAppender=org.apache.log4j.DailyRollingFileAppender</span>
<span style="color: #d0d0d0">log4j.appender.RollingAppender.File=logs/msg_send_server.log</span>
<span style="color: #d0d0d0">log4j.appender.RollingAppender.DatePattern=</span><span style="color: #ed9d13">&#39;.&#39;</span><span style="color: #d0d0d0">yyyy-MM-dd</span>
<span style="color: #d0d0d0">log4j.appender.RollingAppender.layout=org.apache.log4j.PatternLayout</span>
<span style="color: #d0d0d0">log4j.appender.RollingAppender.layout.ConversionPattern=%p</span> <span style="color: #d0d0d0">%d</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">%m%n</span>
</pre></div>


<h2 id="_8">参考</h2>
<ul>
<li><a href="https://www.playframework.com/documentation/2.3.x/JavaActions">Actions, Controllers and Results</a></li>
<li><a href="https://www.playframework.com/documentation/2.3.x/JavaRouting">HTTP routing</a></li>
<li><a href="https://www.playframework.com/documentation/2.3.x/JavaAsync">Handling asynchronous results</a></li>
<li><a href="http://blog.jobbole.com/16631/">致Play Framework开发者们的一封信</a></li>
<li><a href="http://www.bloggern.com/7069.html">Play Framework 2.0几宗罪</a></li>
<li><a href="http://www.zhihu.com/question/19681587">谁能说说Play与Grails的异同与优劣？</a></li>
<li><a href="https://www.playframework.com/documentation/1.3.x/home">Play 1.3.x Documentation</a></li>
<li><a href="https://www.playframework.com/documentation/1.3.x/firstapp">‘Hello World’ tutorial — Your first Play application</a></li>
<li><a href="https://www.playframework.com/documentation/2.3.x/ThreadPools">Understanding Play thread pools</a></li>
</ul>
</body>
</html>
