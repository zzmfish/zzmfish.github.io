<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SVN经验技巧</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
<h1 id="svn">SVN经验技巧</h1>
<h5 id="_1">检出</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#检出单个文件</span>
svn <span style="color: #24909d">export</span> --depth files <span style="color: #40ffff">$FilePath</span>
</pre></div>


<h5 id="_2">添加</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#添加目录，但不添文件</span>
svn add --depth<span style="color: #d0d0d0">=</span>empty <span style="color: #40ffff">$DirName</span>
svn add -N <span style="color: #40ffff">$Dir</span>

<span style="color: #999999; font-style: italic">#远程添加目录</span>
mkdir <span style="color: #40ffff">$DirName</span>
svn import <span style="color: #40ffff">$DirName</span> <span style="color: #40ffff">$RemotePath</span>/<span style="color: #40ffff">$DirName</span>
</pre></div>


<h5 id="_3">更新</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#更新到指定版本</span>
svn update -r<span style="color: #40ffff">$Version</span> <span style="color: #40ffff">$FileName</span>
</pre></div>


<h5 id="_4">撤销</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#撤销本地修改</span>
svn revert <span style="color: #40ffff">$File</span>

<span style="color: #999999; font-style: italic">#撤销目录修改、撤销添加目录</span>
svn revert <span style="color: #40ffff">$Dir</span> -R
</pre></div>


<h5 id="_5">属性</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#添加可执行属性</span>
svn propset svn:executable ON <span style="color: #40ffff">$FileName</span>
</pre></div>


<h5 id="_6">合并</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#合并分支</span>
svn merge <span style="color: #40ffff">$BranchPath</span>

<span style="color: #999999; font-style: italic">#合并版本间的修改</span>
svn merge <span style="color: #40ffff">$BranchPath</span> -r<span style="color: #40ffff">$Version1</span>:<span style="color: #40ffff">$Version2</span>

<span style="color: #999999; font-style: italic">#回滚</span>
svn merge . -r<span style="color: #40ffff">$Version2</span>:<span style="color: #40ffff">$Version1</span>

<span style="color: #999999; font-style: italic">#冲突使用本地版本</span>
svn resolve --accept mine-full  <span style="color: #40ffff">$FileName</span>

<span style="color: #999999; font-style: italic">#显示合并信息</span>
svn mergeinfo .
svn propget svn:mergeinfo .
svn propget -r<span style="color: #40ffff">$Version</span> svn:mergeinfo .
</pre></div>


<h5 id="_7">分支</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#创建分支</span>
svn copy <span style="color: #40ffff">$Path1</span> <span style="color: #40ffff">$Path2</span> -m <span style="color: #40ffff">$Message</span>

<span style="color: #999999; font-style: italic">#列出所有tag</span>
svn ls <span style="color: #ed9d13">&quot;^/tags&quot;</span>
</pre></div>


<h5 id="_8">外部引用</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#引用外部文件  </span>
<span style="color: #999999; font-style: italic">#格式：svn路径（可使用相对路径） 本地路径</span>
svn propedit svn:externals  .
</pre></div>


<h5 id="_9">服务器</h5>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#切换服务器</span>
svn switch --relocate <span style="color: #40ffff">$Url1</span> <span style="color: #40ffff">$Url2</span>
</pre></div>


<h2 id="_10">编译安装</h2>
<div class="codehilite" style="background: #202020"><pre style="line-height: 125%"><span style="color: #999999; font-style: italic">#安装apr</span>
wget http://mirrors.ibiblio.org/apache//apr/apr-1.5.1.tar.gz
tar zxf apr-1.5.1.tar.gz
<span style="color: #24909d">cd </span>apr-1.5.1
./configure --prefix<span style="color: #d0d0d0">=</span><span style="color: #40ffff">$HOME</span>/zhouzm/local
make
make install

<span style="color: #999999; font-style: italic">#安装apr-utils</span>
wget http://apache.fayea.com//apr/apr-util-1.5.4.tar.gz
tar zxf apr-util-1.5.4.tar.gz
<span style="color: #24909d">cd </span>apr-util-1.5.4
./configure --prefix<span style="color: #d0d0d0">=</span>/home/bigdata/zhouzm/local --with-apr<span style="color: #d0d0d0">=</span><span style="color: #40ffff">$HOME</span>/zhouzm/local
make
make install

<span style="color: #999999; font-style: italic">#安装scons</span>
wget http://sourceforge.net/projects/scons/files/scons/2.3.4/scons-2.3.4.tar.gz/download
tar zxf scons-2.3.4.tar.gz
<span style="color: #24909d">cd </span>scons-2.3.4
python setup.py build
python setup.py install --prefix<span style="color: #d0d0d0">=</span><span style="color: #40ffff">$HOME</span>/zhouzm/local/
<span style="color: #24909d">cd</span> -

<span style="color: #999999; font-style: italic">#安装serf</span>
wget http://serf.googlecode.com/svn/src_releases/serf-1.3.8.tar.bz2
tar jxf serf-1.3.8.tar.bz2 
<span style="color: #24909d">cd </span>serf-1.3.8
scons <span style="color: #40ffff">APR</span><span style="color: #d0d0d0">=</span>/home/bigdata/zhouzm/local/bin/apr-1-config <span style="color: #40ffff">APU</span><span style="color: #d0d0d0">=</span>/home/bigdata/zhouzm/local <span style="color: #40ffff">OPENSSL</span><span style="color: #d0d0d0">=</span>/usr <span style="color: #40ffff">PREFIX</span><span style="color: #d0d0d0">=</span><span style="color: #40ffff">$HOME</span>/zhouzm/local
scons install
<span style="color: #24909d">cd</span> -

<span style="color: #999999; font-style: italic">#安装subversion</span>
wget http://apache.mirrors.hoobly.com/subversion/subversion-1.8.11.tar.bz2
tar jxf subversion-1.8.11.tar.bz2
<span style="color: #24909d">cd </span>subversion-1.8.11
wget http://www.sqlite.org/sqlite-amalgamation-3071501.zip
unzip sqlite-amalgamation-3071501.zip
mv sqlite-amalgamation-3071501 sqlite-amalgamation
./configure --prefix<span style="color: #d0d0d0">=</span>/home/bigdata/zhouzm/local --with-serf<span style="color: #d0d0d0">=</span>yes
make
make install
</pre></div>
</body>
</html>
